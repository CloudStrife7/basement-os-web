---
import '../styles/global.css';

// We'll define the animations locally in this file for the demo
---

<!DOCTYPE html>
<html lang="en" data-theme="synthwave">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shutdown Animation Demo</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow: hidden;
        }

        .controls {
            position: fixed;
            bottom: 50px;
            display: flex;
            gap: 20px;
            z-index: 10000;
        }

        button {
            padding: 10px 20px;
            background: var(--bg-secondary);
            border: 1px solid var(--accent-primary);
            color: var(--accent-primary);
            font-family: var(--font-mono);
            cursor: pointer;
            transition: all 0.2s;
        }

        button:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .demo-screen {
            font-family: var(--font-display);
            font-size: 40px;
            text-align: center;
        }

        /* 1. CURRENT: CRT Turn Off */
        @keyframes crtTurnOff {
            0% { transform: scale(1, 1); filter: brightness(1); opacity: 1; }
            40% { transform: scale(1, 0.002); filter: brightness(20); opacity: 1; }
            100% { transform: scale(0, 0); filter: brightness(0); opacity: 0; }
        }
        .anim-crt { animation: crtTurnOff 0.8s ease-out forwards; }

        /* 2. VHS Power Down */
        @keyframes vhsFade {
            0% { filter: blur(0) grayscale(0); transform: skew(0); }
            20% { filter: blur(2px) grayscale(0.5); transform: skew(10deg); }
            40% { filter: blur(4px) grayscale(0.8); transform: skew(-10deg); height: 100vh;}
            60% { filter: blur(10px) grayscale(1); transform: scaleY(0.1) skew(50deg); height: 10vh; opacity: 1;}
            100% { filter: blur(20px) grayscale(1); transform: scaleY(0); opacity: 0; }
        }
        .anim-vhs { animation: vhsFade 0.6s ease-in forwards; }

        /* 3. Terminal Glitch */
        @keyframes glitchFail {
            0% { clip-path: inset(0 0 0 0); filter: invert(0); }
            20% { clip-path: inset(20% 0 10% 0); filter: invert(1); transform: translate(-5px, 5px); }
            40% { clip-path: inset(50% 0 30% 0); filter: invert(0); transform: translate(5px, -5px); }
            60% { clip-path: inset(10% 0 60% 0); filter: invert(1); transform: translate(-10px, 0); }
            80% { clip-path: inset(80% 0 5% 0); filter: invert(0); opacity: 1; }
            100% { clip-path: inset(50% 50% 50% 50%); opacity: 0; }
        }
        .anim-glitch { animation: glitchFail 0.4s steps(5) forwards; }

        /* 4. Phosphor Decay */
        @keyframes phosphorBurn {
            0% { filter: brightness(1) blur(0); opacity: 1; }
            30% { filter: brightness(3) blur(2px); opacity: 1; color: #a6e22e; text-shadow: 0 0 20px #a6e22e; }
            100% { filter: brightness(0) blur(20px); opacity: 0; transform: scale(1.1); }
        }
        .anim-phosphor { animation: phosphorBurn 2.5s ease-out forwards; }

    </style>
</head>
<body>

    <div id="content" class="demo-screen">
        <div>IT'S NOW SAFE TO<br>TURN OFF YOUR COMPUTER</div>
    </div>

    <div class="controls">
        <button id="btn-crt">Style 1: CRT (Current)</button>
        <button id="btn-vhs">Style 2: VHS Tape</button>
        <button id="btn-glitch">Style 3: Glitch/Crash</button>
        <button id="btn-phosphor">Style 4: Phosphor Decay</button>
    </div>

    <script is:inline>
        function playAnim(animClass) {
            const el = document.body;
            // Remove all animations
            el.classList.remove('anim-crt', 'anim-vhs', 'anim-glitch', 'anim-phosphor');
            
            // Force reflow
            void el.offsetWidth;

            // Add new animation
            el.classList.add(animClass);

            // Reset after animation
            setTimeout(() => {
                el.classList.remove(animClass);
            }, 3000);
        }

        document.getElementById('btn-crt').addEventListener('click', () => playAnim('anim-crt'));
        document.getElementById('btn-vhs').addEventListener('click', () => playAnim('anim-vhs'));
        document.getElementById('btn-glitch').addEventListener('click', () => playAnim('anim-glitch'));
        document.getElementById('btn-phosphor').addEventListener('click', () => playAnim('anim-phosphor'));
    </script>
</body>
</html>
