```astro
---
import '../styles/global.css';
import '../styles/shutdown.css';
import { ClientRouter } from 'astro:transitions';
import SEO from '../components/SEO.astro';

interface Props {
	title: string;
	description?: string;
    image?: string;
    article?: boolean;
    audience?: 'player' | 'dev';
    noIndex?: boolean;
}

const { title, description, image, article, audience, noIndex } = Astro.props;
---

<!DOCTYPE html>
<html lang="en" data-theme="synthwave">
	<head>
        <SEO 
            title={title} 
            description={description} 
            image={image} 
            article={article} 
            audience={audience} 
            noIndex={noIndex} 
        />
		<ClientRouter />
        <script is:inline>
            // Disable browser's scroll restoration to prevent progress bar on scroll
            // Astro's ClientRouter calls history.replaceState during scroll which
            // triggers native mobile browser progress indicators
            if ('scrollRestoration' in history) {
                history.scrollRestoration = 'manual';
            }
        </script>
        <!-- Script temporarily removed for debugging -->
	</head>
	<body>
		<slot />
	</body>
</html>  <script>
  (function() {
    'use strict';

    // Create starfield
    function createStarfield() {
      const container = document.getElementById('starfield');
      if (!container) return;

      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.style.cssText = `
          position: absolute;
          width: ${Math.random() * 3 + 1}px;
          height: ${Math.random() * 3 + 1}px;
          background: white;
          border-radius: 50%;
          left: ${Math.random() * 100}%;
          top: ${Math.random() * 100}%;
          animation: twinkle ${Math.random() * 3 + 1}s ease-in-out infinite;
          opacity: ${Math.random() * 0.5 + 0.5};
        `;
        container.appendChild(star);
      }

      // Add twinkle animation
      const style = document.createElement('style');
      style.textContent = `
        @keyframes twinkle {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 1; }
        }
      `;
      document.head.appendChild(style);
    }

    // Animate visitor counter
    function animateCounter() {
      const counter = document.getElementById('visitor-count');
      if (!counter) return;

      let count = 0;
      const target = 1337; // l33t
      const duration = 2000;
      const increment = target / (duration / 50);

      const interval = setInterval(() => {
        count += increment;
        if (count >= target) {
          count = target;
          clearInterval(interval);
        }
        counter.textContent = String(Math.floor(count)).padStart(6, '0');
      }, 50);
    }

    // Console easter eggs
    function initConsole() {
      console.log('%c‚òÖ WELCOME TO THE RETRO ZONE ‚òÖ', 'color: #ff00ff; font-size: 20px; font-family: monospace;');
      console.log('%cYou found the vintage achievement archive!', 'color: #00ff00;');
      console.log('%cEstablished 2005. Never updated. Perfect.', 'color: #00ffff;');
      console.log('');
      console.log('%cüê¢ The turtle approves of your dedication.', 'font-size: 16px;');
    }

    function init() {
      createStarfield();
      animateCounter();
      initConsole();
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  })();
</script>