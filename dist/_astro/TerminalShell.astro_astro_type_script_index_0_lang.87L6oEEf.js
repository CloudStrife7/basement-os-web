const f=[{text:"════════════════════════════════════════════════════════════════════════════════",delay:0},{text:"",delay:50},{text:"BASEMENT OS (Web Terminal)",delay:100,class:"text-secondary"},{text:"(C) 2025 CloudStrife7",delay:150,class:"text-dim"},{text:"",delay:200},{text:"════════════════════════════════════════════════════════════════════════════════",delay:250},{text:"",delay:300},{text:"POST: Power-On Self Test...",delay:400},{text:"  Checking BIOS.................... OK",delay:600,class:"boot-ok"},{text:"  Memory Test: 640K................ OK",delay:800,class:"boot-ok"},{text:"  Display Adapter.................. OK",delay:1e3,class:"boot-ok"},{text:"",delay:1100},{text:"Loading Devlog...",delay:1300},{text:"  Connecting to GitHub............. OK",delay:1500,class:"boot-ok"},{text:"  Loading blog entries............. OK",delay:1700,class:"boot-ok"},{text:"  Initializing search.............. OK",delay:1900,class:"boot-ok"},{text:"",delay:2e3},{text:"════════════════════════════════════════════════════════════════════════════════",delay:2100},{text:"Boot complete. Welcome to Basement OS.",delay:2300,class:"boot-info"},{text:"════════════════════════════════════════════════════════════════════════════════",delay:2500}];document.addEventListener("astro:page-load",()=>{const o=document.getElementById("boot-screen"),i=document.getElementById("main-content"),c=document.getElementById("nav-menu"),l=document.getElementById("ai-disclosure");let d=0;function p(){if(o)if(d<f.length){const e=f[d],t=document.createElement("div");t.className="boot-line",e.class&&t.classList.add(e.class),t.textContent=e.text,t.style.animationDelay="0s",o.appendChild(t),d++;const s=d<f.length?f[d].delay-e.delay:500;setTimeout(p,s)}else setTimeout(()=>{o.style.display="none",i&&i.classList.add("active"),c&&c.classList.add("active"),l&&(l.style.display="block")},800)}const L=sessionStorage.getItem("basement-os-booted"),E=new URLSearchParams(window.location.search).get("boot")==="true";!L||E?o&&(o.style.display="block",i&&i.classList.remove("active"),c&&c.classList.remove("active"),l&&(l.style.display="none"),d=0,o.innerHTML="",p(),sessionStorage.setItem("basement-os-booted","true")):(o&&(o.style.display="none"),i&&i.classList.add("active"),c&&c.classList.add("active"),l&&(l.style.display="block"));const I=["high-contrast","synthwave","framer-dark","framer-light","solarized-dark","solarized-light","catppuccin","monokai","gruvbox-dark","gruvbox-light","rose-pine","rose-pine-dawn","rose-pine-moon","cappuccino"],m=document.getElementById("theme-select");function S(e){I.includes(e)||(e="synthwave"),document.documentElement.setAttribute("data-theme",e),localStorage.setItem("basement-os-theme",e),m&&(m.value=e)}if(m){m.addEventListener("change",t=>{S(t.target.value)});const e=localStorage.getItem("basement-os-theme")||"synthwave";m.value=e}function b(){const t=new Date().toLocaleTimeString("en-US",{hour12:!0}),s=document.getElementById("clock");s&&(s.textContent=t)}window.clockInterval&&clearInterval(window.clockInterval),window.clockInterval=setInterval(b,1e3),b();const x=document.getElementById("btn-reboot"),y=document.getElementById("shutdown-screen");x&&y&&x.addEventListener("click",()=>{y.style.display="flex",document.body.style.cursor="wait",setTimeout(()=>{const e=y.querySelector(".shutdown-msg-1"),t=y.querySelector(".shutdown-msg-2");e&&(e.style.display="none"),t&&(t.style.display="block"),setTimeout(()=>{const s=["anim-crt","anim-vhs","anim-phosphor"],r=s[Math.floor(Math.random()*s.length)];if(r==="anim-crt"){const h=window.scrollY,g=window.innerHeight;document.body.scrollHeight;const a=h+g/2;document.body.style.transformOrigin=`50% ${a}px`}document.body.classList.add(r),setTimeout(()=>{sessionStorage.removeItem("basement-os-booted"),window.location.reload()},2500)},2e3)},2e3)});const w=document.getElementById("search-toggle"),u=document.getElementById("search-container"),v=document.getElementById("search-input"),n=document.getElementById("search-results");w&&u&&v&&(w.addEventListener("click",()=>{u.classList.toggle("active"),u.classList.contains("active")&&v.focus()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&u.classList.contains("active")&&u.classList.remove("active")}),v.addEventListener("input",async e=>{const t=e.target.value;if(t.length<2){n&&(n.innerHTML="");return}n&&(n.innerHTML='<div class="searching">Searching database...</div>');try{const h=await(await import("/pagefind/pagefind.js")).search(t),g=await Promise.all(h.results.slice(0,5).map(a=>a.data()));n&&(g.length===0?n.innerHTML='<div class="no-results">No matching records found.</div>':n.innerHTML=g.map(a=>`
                            <div class="search-result-item">
                                <a href="${a.url}">
                                    <div class="result-title">${a.meta.title}</div>
                                    <div class="result-excerpt">${a.excerpt}</div>
                                </a>
                            </div>
                        `).join(""))}catch(s){console.log("Pagefind not loaded (dev mode)",s),n&&(n.innerHTML=`
                        <div class="result-error">
                            Search index unavailable in DEV mode.<br>
                            Run 'npm run build' to generate index.
                        </div>`)}})),document.querySelectorAll(".section-header").forEach(e=>{if(e.classList.contains("typewriter-text"))return;const t=e.textContent||"";e.innerHTML='<span class="typewriter-cursor"></span>',e.classList.add("typewriter-text");let s=0;function r(){s<t.length&&(e.innerHTML=t.substring(0,s+1)+'<span class="typewriter-cursor"></span>',s++,setTimeout(r,50))}setTimeout(r,200)})});
